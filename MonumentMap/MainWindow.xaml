<Window x:Class="MonumentMap.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:m="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MonumentMap"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Title="MainWindow" Width="1000" Height="700">

    <!-- Dekorisanje pinova na mapi -->
    <Window.Resources>
        <ControlTemplate x:Key="MonumentPinTemplate" TargetType="m:Pushpin">
            <Grid x:Name="ContentGrid" HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel>
                    <Grid Margin="0" Width="33" Height="33">

                        <Polygon HorizontalAlignment="Center" VerticalAlignment="Center" Points="0,0 60,0 30,30"
                                 Stroke="Black" StrokeThickness="1" Fill="Blue" />

                        <!-- Za prikaz teksta na pinovima -->
                        <ContentPresenter HorizontalAlignment="Center"
                                                                VerticalAlignment="Top"
                                                                Content="{TemplateBinding Content}"
                                                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                Margin="0" TextBlock.FontFamily="Segoe UI" TextBlock.FontWeight="Bold" TextBlock.Foreground="#ffffff">
                        </ContentPresenter>
                    </Grid>
                </StackPanel>
            </Grid>
        </ControlTemplate>
    </Window.Resources>

    <!-- Page deo dodat kako bi svi tooltipovi bili uvecani -->
    <Page xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
        <Page.Resources>
            <Style x:Key="{x:Type ToolTip}" TargetType="{x:Type ToolTip}">
                <Setter Property="FontSize" Value="20"/>
            </Style>
        </Page.Resources>

        <!-- Glavni panel -->
        <DockPanel x:Name="mainPanel"  Background="#205770">

            <!-- Prozor za dodavanje novih spomenika -->
            <Canvas x:Name="newMonumentCanvas"  Panel.ZIndex="99" DockPanel.Dock="Left">
                <ScrollViewer x:Name="newMonumentHolder" VerticalScrollBarVisibility="Hidden" Width="420" Canvas.Left="-420"  Height="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type Border}},Path=ActualHeight}" CanContentScroll="True">
                    <StackPanel  Height="670" Background="#001a33">
                        <!-- Zaglavlje prozora-->
                        <Grid x:Name="newMonumentHeader" Height="40">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Label VerticalAlignment="Center" HorizontalAlignment="Left" Content="Add new monument" Foreground="White"
                               FontSize="{Binding WindowConstants.HeaderFontSize}" FontWeight="SemiBold" Grid.Row="0" Grid.Column="0"/>

                            <Button x:Name="closeNewMonumWindowBtn" Width="60" Height="40" VerticalAlignment="Center" FontWeight="SemiBold" HorizontalAlignment="Right"
                                ToolTip="Close window" Foreground="White" Content="Close" Background="#001a33" FontSize="{Binding WindowConstants.HeaderFontSize}"
                                Grid.Row="0" Grid.Column="1"  BorderThickness="0" Click="closeNewMonumWindowBtn_Click"/>
                        </Grid>

                        <!-- Slika i ikonica -->
                        <Border BorderBrush="White" BorderThickness="2">
                            <Grid x:Name="newMonumentPicAndIcon" Margin="0,15,0,0" Height="150">

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="280"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="140" />
                                </Grid.RowDefinitions>

                                <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" Grid.Row="0" Grid.Column="1" Width="3" HorizontalAlignment="Left"/>
                                <Image Source="icons/default-monument.jpg" VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Row="0" Grid.Column="0"/>
                                <Button Grid.Row="0" x:Name="changeMonumPicBtn" Grid.Column="0" VerticalAlignment="Bottom" HorizontalAlignment="Center" Width="120" ToolTip="Change monument picture"
                                        Height="25" Content="Change picture" Foreground="White" Background="#043c96" Opacity="0.7" FontSize="15" Click="changeMonumPicBtn_Click"/>

                                <Image Source="icons/monument-icon.png" Height="48" VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Row="0" Grid.Column="1"/>
                                <Button Grid.Row="0" x:Name="changeMonumIconBtn" Grid.Column="1" VerticalAlignment="Bottom" HorizontalAlignment="Center" Width="100"
                                        Height="25" Content="Change icon" Foreground="White" Background="#043c96" Opacity="0.7" FontSize="15" Click="changeMonumIconBtn_Click" ToolTip="Change monument icon"/>
                            </Grid>
                        </Border>

                        <!-- Forma za dodavanje novog spomenika -->
                        <Grid x:Name="newMonumentForm" Margin="0,15,0,0">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{Binding WindowConstants.RowSpacing}"/>
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Label Content="ID:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}"  Grid.Column="0" Grid.Row="0"/>
                            <TextBox x:Name="monumentID" Text="" MaxLength="6" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Column="1" Grid.Row="0"/>

                            <Label Content="Name:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="2" Grid.Column="0"/>
                            <TextBox x:Name="monumentName" Text="" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="2" Grid.Column="1"/>

                            <Label Content="Description:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" VerticalAlignment="Top" Grid.Row="4" Grid.Column="0"/>
                            <TextBox x:Name="monumentDescr" Text="" FontSize="{Binding WindowConstants.FormFontSize}" TextWrapping="Wrap" MaxLength="100"
                                    HorizontalAlignment="Stretch" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" Grid.Row="4" Grid.Column="1" Height="80"/>

                            <Label Content="Type:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="6" Grid.Column="0"/>
                            <ComboBox x:Name="monumentType" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="6" Grid.Column="1"/>

                            <Label Content="Climate:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="8" Grid.Column="0"/>
                            <ComboBox x:Name="climateType" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="8" Grid.Column="1"/>

                            <Label Content="Eco endangered:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="10" Grid.Column="0"/>
                            <RadioButton x:Name="radioEcoPosBtn" Content="Yes" HorizontalAlignment="Left" Grid.Row="10" Grid.Column="1" VerticalAlignment="Center"
                                        Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="eco" Margin="20, 0"/>
                            <RadioButton x:Name="radioEcoNegBtn" Content="No" HorizontalAlignment="Right" Grid.Row="10" Grid.Column="1" VerticalAlignment="Center"
                                        Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="eco" Margin="20, 0" IsChecked="True"/>

                            <Label Content="In human settlement:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="12" Grid.Column="0"/>
                            <RadioButton x:Name="radioSettlementPosBtn" Content="Yes" HorizontalAlignment="Left" Grid.Row="12" Grid.Column="1" VerticalAlignment="Center"
                                        Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="settlement" Margin="20, 0"/>
                            <RadioButton x:Name="radioSettlementNegBtn" Content="No" HorizontalAlignment="Right" Grid.Row="12" Grid.Column="1" VerticalAlignment="Center"
                                        Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="settlement" Margin="20, 0" IsChecked="True"/>

                            <Label Content="Has endangered species:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="14" Grid.Column="0"/>
                            <RadioButton x:Name="radioSpeciesPosBtn" Content="Yes" HorizontalAlignment="Left" Grid.Row="14" Grid.Column="1" VerticalAlignment="Center"
                                        Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="species" Margin="20, 0"/>
                            <RadioButton x:Name="radioSpeciesNegBtn" Content="No" HorizontalAlignment="Right" Grid.Row="14" Grid.Column="1" VerticalAlignment="Center"
                                        Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="species" Margin="20, 0" IsChecked="True"/>

                            <Label Content="Tourist status:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="16" Grid.Column="0"/>
                            <ComboBox x:Name="touristStatus" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="16" Grid.Column="1"/>

                            <Label Content="Annual income ($):" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="18" Grid.Column="0"/>
                            <TextBox x:Name="annualIncome" Text="" FontSize="{Binding WindowConstants.FormFontSize}" PreviewTextInput="NumberValidationTextBox" Grid.Row="18" Grid.Column="1"/>

                            <Label Content="Discovery date:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Grid.Row="20" Grid.Column="0"/>
                            <DatePicker x:Name="discoveryDate" Grid.Row="20" Grid.Column="1" FirstDayOfWeek="Monday" FontSize="{Binding WindowConstants.FormFontSize}" ToolTip="etc 31-Dec-2000"></DatePicker>

                            <Button x:Name="addMonumentBtn" Grid.Row="22" Grid.Column="0" ToolTip="Add new monument" VerticalAlignment="Center" Width="120"
                                Content="Add monument" Foreground="White" Background="#043c96" Height="30" FontSize="{Binding WindowConstants.FormFontSize}" Click="addMonumentBtn_Click"/>
                            <Button x:Name="addTagBtn" Grid.Row="22" Grid.Column="1" ToolTip="Add tag to new monument" Width="100"  VerticalAlignment="Center"
                                Content="Add tag"  Foreground="White" Background="#043c96" Height="30" FontSize="{Binding WindowConstants.FormFontSize}" Click="addTagBtn_Click"/>
                        </Grid>

                    </StackPanel>
                </ScrollViewer>
            </Canvas>

            <!-- TOOLBAR -->
            <ToolBarTray DockPanel.Dock="Top" ToolBarTray.IsLocked="True" Grid.Row="1" Background="#001a33">
                <ToolBar Background="#e6f3ff" ToolBar.OverflowMode="Never" Loaded="ToolBar_Loaded" ToolTipService.ToolTip="Add new monument">
                    <Button x:Name="newMonumentBtn" Click="newMonumentBtn_Click">
                        <Image Source="icons/monument-icon.png" Height="25" />
                    </Button>
                </ToolBar>
            </ToolBarTray>

            <!-- BING MAPA -->
            <Grid>
                <m:Map x:Name="worldMap" ZoomLevel="2.5"  Mode="AerialWithLabels" CredentialsProvider="AtDk4CCssn5oeGv1MfzEWA_LA9eulE9bDLI6VdfGkcnCi6ydlDX0LT-jNXskoIV_" RenderTransformOrigin="0.5,0.5"/>
            </Grid>
        </DockPanel>
    </Page>

</Window>
