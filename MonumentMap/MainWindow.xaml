<Window x:Class="MonumentMap.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:m="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MonumentMap"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Title="MainWindow" Width="1000" Height="700">

    <!-- Dekorisanje pinova na mapi -->
    <Window.Resources>
        <ControlTemplate x:Key="MonumentPinTemplate" TargetType="m:Pushpin">
            <Grid x:Name="ContentGrid" HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel>
                    <Grid Margin="0" Width="33" Height="33">

                        <Polygon HorizontalAlignment="Center" VerticalAlignment="Center" Points="0,0 60,0 30,30"
                                 Stroke="Black" StrokeThickness="1" Fill="Blue" />

                        <!-- Za prikaz teksta na pinovima -->
                        <ContentPresenter HorizontalAlignment="Center"
                                                                VerticalAlignment="Top"
                                                                Content="{TemplateBinding Content}"
                                                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                Margin="0" TextBlock.FontFamily="Segoe UI" TextBlock.FontWeight="Bold" TextBlock.Foreground="#ffffff">
                        </ContentPresenter>
                    </Grid>
                </StackPanel>
            </Grid>
        </ControlTemplate>
    </Window.Resources>

    <!-- Page deo dodat kako bi svi tooltipovi bili uvecani -->
    <Page xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
        <Page.Resources>
            <Style x:Key="{x:Type ToolTip}" TargetType="{x:Type ToolTip}">
                <Setter Property="FontSize" Value="20"/>
            </Style>
        </Page.Resources>

        <!-- Glavni panel -->
        <DockPanel x:Name="mainPanel"  Background="#205770">

            <!-- Prozor za dodavanje novih spomenika -->
            <Canvas x:Name="newMonumentCanvas"  Panel.ZIndex="99" DockPanel.Dock="Left">
                <StackPanel Width="420" x:Name="newMonumentHolder" Canvas.Left="-420" Background="#001a33" Height="{Binding ActualHeight, ElementName=newMonumentCanvas}" RenderTransformOrigin="0.521,0.275">
                    <!-- Zaglavlje prozora-->
                    <Grid Height="55">
                        <Label VerticalAlignment="Center" HorizontalAlignment="Left" Content="Add new monument" Foreground="White"
                               FontSize="{Binding WindowConstants.HeaderFontSize}" FontWeight="SemiBold" Margin="10,8,0,10"/>
                        <Button x:Name="closeNewMonumWindowBtn" Width="60" Height="40" VerticalAlignment="Center" HorizontalAlignment="Right" FontWeight="SemiBold"
                                ToolTip="Close window" Foreground="White" Content="Close" Background="#001a33" FontSize="{Binding WindowConstants.HeaderFontSize}"
                                Margin="0,5,10,10" BorderThickness="0" Click="closeNewMonumWindowBtn_Click"/>
                        <Rectangle VerticalAlignment="Bottom" Fill="White" Height="1"></Rectangle>
                    </Grid>

                    <!-- Slika i ikonica -->
                    <Grid Height="120">
                        <Image Source="icons/default-monument.jpg" VerticalAlignment="Center" HorizontalAlignment="Left" Width="181"/>
                        <Rectangle VerticalAlignment="Stretch" Stroke="White" Width="2" Margin="294,0,105,0"/>
                        <Image Source="icons/monument-icon.png" Height="48" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,30,22,42"/>
                        <Rectangle VerticalAlignment="Bottom" Stroke="White"></Rectangle>
                    </Grid>
                    
                    <ScrollViewer x:Name="newMonumentScrollBar" VerticalScrollBarVisibility="Hidden"  Height="494">
                        <!-- Forma za dodavanje novog spomenika -->
                        <Grid x:Name="newMonumentForm" Height="500" ScrollViewer.CanContentScroll="True">
                            
                            
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Label Content="ID:" Height="30"  Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,32,243,379"/>
                            <TextBox x:Name="monumentID" Text="" MaxLength="6" FontSize="{Binding WindowConstants.FormFontSize}" Margin="216,32,117,388"/>

                            <Label Content="Name:" Height="30" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,67,254,344"/>
                            <TextBox x:Name="monumentName" Text="" FontSize="{Binding WindowConstants.FormFontSize}" Margin="216,67,26,352" ToolTip="dfdsfs"/>

                            <Label Content="Description:" Height="30" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,102,233,309"/>
                            <TextBox x:Name="monumentDescr" Text="" FontSize="{Binding WindowConstants.FormFontSize}" TextWrapping="Wrap" MaxLength="100"
                                     HorizontalAlignment="Stretch" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" Margin="216,102,26,259" Height="80"/>

                            <Label Content="Type:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,206,254,209"/>
                            <ComboBox x:Name="monumentType" FontSize="{Binding WindowConstants.FormFontSize}" Margin="216,206,26,209"/>

                            <Label Content="Climate:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,248,254,167"/>
                            <ComboBox x:Name="climateType" FontSize="{Binding WindowConstants.FormFontSize}" Margin="216,248,26,169"/>

                            <Label Content="Eco endangered:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,292,205,123"/>
                            <RadioButton x:Name="radioEcoPosBtn" Content="Yes" HorizontalAlignment="Left" Margin="256,298,0,0" VerticalAlignment="Top"
                                         Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="eco"/>
                            <RadioButton x:Name="radioEcoNegBtn" Content="No" HorizontalAlignment="Right" Margin="0,298,38,0" VerticalAlignment="Top"
                                         Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="eco"/>

                            <Label Content="In human settlement:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,324,205,91"/>
                            <RadioButton x:Name="radioSettlementPosBtn" Content="Yes" HorizontalAlignment="Left" Margin="256,330,0,0" VerticalAlignment="Top"
                                         Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="settlement"/>
                            <RadioButton x:Name="radioSettlementNegBtn" Content="No" HorizontalAlignment="Right" Margin="0,330,38,0" VerticalAlignment="Top"
                                         Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="settlement" />

                            <Label Content="Has endangered species:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,360,216,55"/>
                            <RadioButton x:Name="radioSpeciesPosBtn" Content="Yes" HorizontalAlignment="Left" Margin="256,366,0,0" VerticalAlignment="Top"
                                         Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="species"/>
                            <RadioButton x:Name="radioSpeciesNegBtn" Content="No" HorizontalAlignment="Left" Margin="347,366,0,0" VerticalAlignment="Top"
                                         Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" GroupName="species"/>

                            <Label Content="Tourist status:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,405,216,10"/>
                            <ComboBox x:Name="touristStatus" FontSize="{Binding WindowConstants.FormFontSize}" Margin="216,405,26,12"/>

                            <Label Content="Annual income:" Foreground="White" FontSize="{Binding WindowConstants.FormFontSize}" Margin="10,5,216,20" Grid.Row="1"/>
                            <TextBox x:Name="annualIncome" Text="" FontSize="{Binding WindowConstants.FormFontSize}"
                                     Margin="216,7,117,30"  PreviewTextInput="NumberValidationTextBox" RenderTransformOrigin="0.5,0.5" Grid.Row="1">
                                <TextBox.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleY="-1"/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </TextBox.RenderTransform>
                            </TextBox>
                        </Grid>
                    </ScrollViewer>

                </StackPanel>
            </Canvas>

            <!-- TOOLBAR -->
            <ToolBarTray DockPanel.Dock="Top" ToolBarTray.IsLocked="True" Grid.Row="1" Background="#001a33">
                <ToolBar Background="#e6f3ff" ToolBar.OverflowMode="Never" Loaded="ToolBar_Loaded" ToolTipService.ToolTip="Add new monument">
                    <Button x:Name="newMonumentBtn" Click="newMonumentBtn_Click">
                        <Image Source="icons/monument-icon.png" Height="25" />
                    </Button>
                </ToolBar>
            </ToolBarTray>

            <!-- BING MAPA -->
            <Grid>
                <m:Map x:Name="worldMap" ZoomLevel="2.5"  Mode="AerialWithLabels" CredentialsProvider="AtDk4CCssn5oeGv1MfzEWA_LA9eulE9bDLI6VdfGkcnCi6ydlDX0LT-jNXskoIV_" RenderTransformOrigin="0.5,0.5"/>
            </Grid>
        </DockPanel>
    </Page>

</Window>
